{"version":3,"sources":["assets/dinr-logo.svg","assets/default-profile.png","common/Navbar/index.tsx","common/Footer/index.tsx","common/Loading/index.tsx","common/Notifications/index.tsx","containers/Browse/listing.tsx","helpers/filter-reservations.tsx","helpers/dinner-uid-to-date.tsx","helpers/filter-hosting.tsx","containers/Browse/index.tsx","containers/Account/login-form.tsx","handlers/login.tsx","handlers/update-profile.tsx","handlers/create-account.tsx","validators/validate-email.tsx","validators/validate-zipcode.tsx","containers/Account/create-account-form.tsx","containers/Account/update-profile-form.tsx","containers/Account/settings.tsx","handlers/logout.tsx","containers/Account/index.tsx","containers/Brand/index.tsx","helpers/zipcode-to-location.tsx","helpers/location-to-url.tsx","containers/Create/index.tsx","helpers/dinner-hash-to-object.tsx","containers/Dinner/index.tsx","containers/Profile/index.tsx","containers/Error/index.tsx","App.tsx","serviceWorker.ts","reducers/index.tsx","reducers/loading.tsx","reducers/user.tsx","reducers/profile.tsx","reducers/notifications.tsx","reducers/zipcode.tsx","reducers/results.tsx","reducers/dinner.tsx","reducers/host.tsx","reducers/reservations.tsx","reducers/hosting.tsx","sagas/dinner.tsx","helpers/flatten-results-array.tsx","filters/filter-results.tsx","sagas/results.tsx","sagas/host.tsx","sagas/reservations.tsx","sagas/hosting.tsx","sagas/root.tsx","index.tsx"],"names":["module","exports","NavbarComponent","dispatch","useDispatch","zipcode","useSelector","state","className","to","src","Logo","alt","type","placeholder","defaultValue","onChange","event","target","value","length","Number","payload","DefaultProfile","FooterComponent","Date","getFullYear","LoadingComponent","NotificationsComponent","notifications","map","notification","index","key","onClick","text","ListingComponent","props","listing","title","description","price","datestamp","ref","plates","guests","date","platesLeft","Object","keys","color","toLocaleDateString","toLocaleTimeString","replace","reservations","filter","indexOf","split","x","dinnerUidToDate","today","listings","array","BrowseComponent","profile","user","hosting","dinnerUid","isReserved","isOwner","uid","filterReservations","filterHosting","personal","LoginForm","useState","email","setEmail","password","setPassword","onSubmit","preventDefault","Promise","res","rej","firebase","signInWithEmailAndPassword","then","catch","error","message","loginHandler","id","name","street","set","reenter","test","String","toLowerCase","validateEmail","isNaN","validateZipcode","createUserWithEmailAndPassword","response","updateProfileHandler","CreateAccountForm","setReenter","setZipcode","createAccountHandler","UpdateProfileForm","setName","setStreet","useEffect","SettingsComponent","signOut","AccountComponent","create","setCreate","BrandComponent","zipcodes","location","city","CreateComponent","dinner","loaded","hash","a1","a2","a3","month","day","year","hour","minute","ampm","dinnerHashToObject","window","action","document","activeElement","getAttribute","form","querySelector","minutes","zipcodeToLocation","locationToUrl","all","database","dinnerTemp","required","disabled","getMonth","Array","fill","getDate","data-action","DinnerComponent","host","guest","remove","re","ProfileComponent","ErrorComponent","App","loading","config","onAuthStateChanged","auth","on","snapshot","val","Loading","Navbar","Notifications","exact","path","Browse","Account","Brand","Create","Dinner","Profile","component","Footer","Boolean","hostname","match","combineReducers","time","getTime","splice","results","watchDinnerAsync","watchDinner","call","resolve","reject","once","put","takeEvery","result","object","reduce","watchResultsAsync","watchResults","datestamps","filterResults","flattenResultsArray","stamp","forEach","watchHostAsync","watchHost","watchReservationsAsync","watchReservations","watchHostingAsync","watchHosting","rootSaga","fork","__REDUX_DEVTOOLS_EXTENSION__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","reducers","applyMiddleware","run","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2ae06634.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dinr-logo.29733819.svg\";","module.exports = __webpack_public_path__ + \"static/media/default-profile.4788048f.png\";","import React from 'react';\nimport './style.scss';\nimport Logo from '../../assets/dinr-logo.svg';\nimport DefaultProfile from '../../assets/default-profile.png';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst NavbarComponent: React.FC = () => {\n  const dispatch = useDispatch();\n  const zipcode = useSelector(state => state['zipcode']);\n  return (\n    <div className=\"NavbarComponent\">\n      <div>\n        <div>\n          <Link to=\"/\">\n            <img src={Logo} alt=\"dinr logo\" />\n          </Link>\n        </div>\n        <div>\n          <input\n            className=\"brand brand-bg\"\n            type=\"number\"\n            placeholder=\"Enter Zipcode\"\n            defaultValue={zipcode}\n            onChange={event => {\n              let zipcode: string | number = event.target.value;\n              if (zipcode.length === 5) {\n                zipcode = Number(zipcode);\n                dispatch({\n                  type: 'SET_ZIPCODE',\n                  payload: zipcode\n                });\n              }\n            }}\n          />\n        </div>\n        <div>\n          <Link to=\"/account\">\n            <img src={DefaultProfile} alt=\"dinr logo\" />\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NavbarComponent;\n","import React from 'react';\nimport './style.scss';\n\nconst FooterComponent: React.FC = () => {\n  return (\n    <div className=\"FooterComponent\">\n      <p>\n        Eat Dinr | <b>Neighborhood Meal Sharing</b>\n      </p>\n      <p>Developed in Saginaw, Michigan</p>\n      <p>Copyright 2015-{new Date().getFullYear()}</p>\n    </div>\n  );\n};\n\nexport default FooterComponent;\n","import React from 'react';\nimport './style.scss';\nimport Logo from '../../assets/dinr-logo.svg';\n\nconst LoadingComponent: React.FC = () => {\n  return (\n    <div className=\"LoadingComponent\">\n      <img className=\"animated infinite flip\" src={Logo} alt=\"Eat Dinr Logo\" />\n    </div>\n  );\n}\n\nexport default LoadingComponent;\n","import React from 'react';\nimport './style.scss';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst NotificationsComponent: React.FC = () => {\n  const notifications = useSelector(state => state['notifications']);\n  const dispatch = useDispatch();\n  return (\n    <ul className=\"NotificationsComponent\">\n      {notifications.map((notification: any, index: number) => {\n        return (\n          <li\n            key={`notification-${index}`}\n            className={`${\n              notification.type ? notification.type : 'brand'\n            }-bg animated flipInX`}\n            onClick={() =>\n              dispatch({\n                type: 'REMOVE_NOTIFICATION',\n                payload: index\n              })\n            }\n          >\n            <span className=\"close-btn\">X</span>\n            {notification.text}\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default NotificationsComponent;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\ninterface ListingComponentProps {\n  listing: object | null;\n  color?: string;\n}\n\nconst ListingComponent: React.FC<ListingComponentProps> = (props: any) => {\n  const {\n    title,\n    description,\n    price,\n    datestamp,\n    ref,\n    plates,\n    guests\n  } = props.listing;\n  const date = new Date(datestamp);\n  const platesLeft = guests ? plates - Object.keys(guests).length : plates;\n  return (\n    <Link to={ref} className={`ListingComponent ${props.color}`}>\n      <h3>\n        ${price} {title}\n      </h3>\n      <p>{description}</p>\n      <ul>\n        <li>\n          <b>Date: </b>\n          {date.toLocaleDateString()}\n        </li>\n        <li>\n          <b>Time: </b>\n          {date.toLocaleTimeString().replace(':00 ', ' ')}\n        </li>\n        <li>\n          <b>Plates: </b>\n          {platesLeft}\n        </li>\n      </ul>\n    </Link>\n  );\n};\n\nexport default ListingComponent;\n","/*\n\nfilters out reservations before the current date\nexample: if today was 3/8/2020\n\n{\n    3_7_2020_6_00_PM_nfYF8vwm8MUCXR6ixTFxMAYlqjw2: \"dinners/sanjose_ca_3_2020/3_7_2020_6_00_PM_nfYF8vwm8MUCXR6ixTFxMAYlqjw2\"\n    3_8_2020_6_00_PM_nfYF8vwm8MUCXR6ixTFxMAYlqjw2: \"dinners/sanjose_ca_3_2020/3_8_2020_6_00_PM_nfYF8vwm8MUCXR6ixTFxMAYlqjw2\"\n} => [\n    \"dinners/sanjose_ca_3_2020/3_8_2020_6_00_PM_nfYF8vwm8MUCXR6ixTFxMAYlqjw2\"\n]\n\n*/\n\nimport dinnerUidToDate from './dinner-uid-to-date';\n\nexport default (reservations: object): string[] => {\n  return Object.keys(reservations)\n    .filter((key: string) => {\n      const ref = reservations[key];\n      const date = dinnerUidToDate(ref);\n      const today = new Date();\n      if (!date) {\n        return false;\n      }\n      return date >= today;\n    })\n    .map(key => reservations[key]);\n};\n","/*\n\nfilters out reservations before the current date\nexample: if today was 3/8/2020\n\n\"dinners/sanjose_ca_3_2020/3_7_2020_6_00_PM_nfYF8vwm8MUCXR6ixTFxMAYlqjw2\"\n=> new Date(\"3/7/2020 6:00 PM\")\n\n|| \n\n\"3_10_2020_6_00_PM_kCfrKK6cbcQwHl3lYd0A6JN2G1r1\" \n=> new Date(\"3/10/2020 6:00 PM\")\n\n*/\n\nexport default (ref: string): Date | null => {\n  if (!ref) {\n    return null;\n  }\n  if (ref.indexOf('/') > -1) {\n    ref = ref.split('/')[2];\n  }\n  const x = ref.split('_');\n  return new Date(`${x[0]}/${x[1]}/${x[2]} ${x[3]}:${x[4]} ${x[5]}`);\n};\n","/*\n\nfilters out reservations before the current date\nexample: if today was 3/8/2020\n\n{\n  \"3_7_2020_6_00_PM_K0bwbytfpDP8ZyzuDfhXTXxEPJR2\": \"sanjose_ca_3_2020/3_7_2020_6_00_PM_K0bwbytfpDP8ZyzuDfhXTXxEPJR2\"\n  \"3_9_2020_6_00_PM_K0bwbytfpDP8ZyzuDfhXTXxEPJR2\": \"sanjose_ca_3_2020/3_9_2020_6_00_PM_K0bwbytfpDP8ZyzuDfhXTXxEPJR2\"\n} => [\n  \"sanjose_ca_3_2020/3_9_2020_6_00_PM_K0bwbytfpDP8ZyzuDfhXTXxEPJR2\"\n]\n*/\n\nexport default (listings: object): string[] => {\n  return Object.keys(listings)\n    .filter((key: string) => {\n      const listing = listings[key];\n      const array = listing.split(/[_/]+/);\n      const date = new Date(\n        `${array[4]}/${array[5]}/${array[6]} ${array[7]}:${array[8]} ${array[9]}`\n      );\n      return date >= new Date() ? listing : null;\n    })\n    .map(key => listings[key]);\n};\n","import React from 'react';\nimport './style.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport ListingComponent from './listing';\nimport filterReservations from '../../helpers/filter-reservations';\nimport filterHosting from '../../helpers/filter-hosting';\n\nconst BrowseComponent: React.FC = () => {\n  const zipcode = useSelector(state => state['zipcode']);\n  const profile = useSelector(state => state['profile']);\n  const user = useSelector(state => state['user']);\n  const hosting = useSelector(state => state['hosting']);\n  const reservations = useSelector(state => state['reservations']);\n  const dispatch = useDispatch();\n  const listings = useSelector(state => state['results']).filter(\n    (listing: any) => {\n      const { ref, plates, guests } = listing;\n      const dinnerUid = ref.split('/')[2];\n      const platesLeft = guests ? plates - Object.keys(guests).length : plates;\n      const isReserved =\n        profile &&\n        profile.reservations &&\n        Object.keys(profile.reservations).indexOf(dinnerUid) !== -1;\n      const isOwner =\n        listing.profile && user && user.uid && listing.profile === user.uid;\n      return platesLeft && !isReserved && !isOwner ? listing : null;\n    }\n  );\n  dispatch({\n    type: 'SET_DINNER',\n    payload: null\n  });\n  dispatch({\n    type: 'SET_HOST',\n    payload: null\n  });\n  if (\n    profile &&\n    profile.reservations &&\n    reservations &&\n    filterReservations(profile.reservations).length !== reservations.length\n  ) {\n    dispatch({\n      type: 'GET_RESERVATIONS',\n      payload: filterReservations(profile.reservations)\n    });\n  }\n  if (\n    profile &&\n    profile.hosting &&\n    hosting &&\n    filterHosting(profile.hosting).length !== hosting.length\n  ) {\n    dispatch({\n      type: 'GET_HOSTING',\n      payload: filterHosting(profile.hosting)\n    });\n  }\n  if (profile && !profile.hosting && hosting && hosting.length > 0) {\n    dispatch({\n      type: 'SET_HOSTING',\n      payload: []\n    });\n  }\n  return (\n    <div className=\"BrowseComponent container\">\n      <Link\n        to={\n          profile && profile.personal && profile.personal.zipcode\n            ? '/create'\n            : '/account'\n        }\n        className=\"banner\"\n      >\n        <p>HOST YOUR OWN</p>\n        <h1>DINR</h1>\n      </Link>\n      {hosting && hosting.length ? (\n        <div>\n          <h2>Hosted By You</h2>\n          {hosting.map((listing: any, index: number) => (\n            <ListingComponent listing={listing} key={`hosting-${index}`} />\n          ))}\n        </div>\n      ) : null}\n      {user &&\n      profile &&\n      reservations &&\n      reservations.length &&\n      profile.reservations ? (\n        <div>\n          <h2>Upcoming Reservations</h2>\n          {reservations.map((listing: any, index: number) => (\n            <ListingComponent listing={listing} key={`reservation-${index}`} />\n          ))}\n        </div>\n      ) : null}\n      {zipcode && listings.length ? (\n        <div>\n          <h2>Dinners Nearby</h2>\n          {listings.map((listing: any, index: number) => (\n            <ListingComponent listing={listing} key={`nearby-${index}`} />\n          ))}\n        </div>\n      ) : (\n        <div>\n          <h2>No Dinners Nearby</h2>\n          <p>Support Dinr by hosting a dinner in your area.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BrowseComponent;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport loginHandler from '../../handlers/login';\n\nconst LoginForm: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault();\n        loginHandler(email, password).catch((message: string) =>\n          dispatch({\n            type: 'ADD_NOTIFICATION',\n            payload: {\n              type: 'secondary',\n              text: message\n            }\n          })\n        );\n      }}\n    >\n      <h2>Securely Login</h2>\n      <label>Email</label>\n      <input\n        type=\"text\"\n        className=\"brand brand-bg\"\n        id=\"email\"\n        value={email}\n        onChange={event => setEmail(event.target.value)}\n      />\n      <br />\n      <br />\n      <label>Password</label>\n      <input\n        type=\"password\"\n        className=\"brand brand-bg\"\n        id=\"password\"\n        value={password}\n        onChange={event => setPassword(event.target.value)}\n      />\n      <br />\n      <br />\n      <span>Forgot password?</span>\n      <br />\n      <br />\n      <input type=\"submit\" className=\"brand brand-bg\" value=\"Sign In\" />\n    </form>\n  );\n};\n\nexport default LoginForm;\n","import * as firebase from 'firebase/app';\n\nexport default (email: string, password: string): Promise<string | null> =>\n  new Promise((res, rej) =>\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then(() => res())\n      .catch((error: any) => rej(error.message))\n  );\n","import * as firebase from 'firebase/app';\n\nexport default ({ name, street, zipcode, uid }: any): Promise<string> =>\n  new Promise((res, rej) => {\n    firebase\n      .database()\n      .ref(`profiles/${uid}/personal`)\n      .set({ name, street, zipcode })\n      .then(() => res('Successfully updated your profile'))\n      .catch((error: any) => rej(error.message));\n  });\n","import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport validateZipcode from '../validators/validate-zipcode';\nimport validateEmail from '../validators/validate-email';\nimport updateProfileHandler from '../handlers/update-profile';\n\nexport default ({\n  email,\n  password,\n  reenter,\n  zipcode\n}: {\n  email: string;\n  password: string;\n  reenter: string;\n  zipcode: string;\n}): Promise<string> =>\n  new Promise((res, rej) => {\n    if (!validateEmail(email)) {\n      rej('Email is badly formatted.');\n    } else if (!validateZipcode(zipcode)) {\n      rej('ZIP code is badly formatted.');\n    } else if (!password) {\n      rej('You forgot to enter a password');\n    } else if (!reenter) {\n      rej('You forgot to reenter a password');\n    } else if (password !== reenter) {\n      rej('Passwords do not match.');\n    } else {\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(email, password)\n        .then(response => {\n          const uid = response?.user?.uid ? response.user.uid : null;\n          if (!uid) {\n            rej('Could not update profile with zipcode.');\n          }\n          updateProfileHandler({ zipcode, uid, name: '', street: '' })\n            .then(() => res())\n            .catch(error => rej(error));\n        })\n        .catch(error => rej(error.message));\n    }\n  });\n","export default (email: string): boolean =>\n  /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n    String(email).toLowerCase()\n  );\n","export default (zipcode: string | number): boolean => {\n  zipcode = Number(zipcode);\n  return !isNaN(zipcode) && zipcode >= 10000 && zipcode <= 99999;\n};\n","import React, { useState } from 'react';\nimport createAccountHandler from '../../handlers/create-account';\nimport { useDispatch } from 'react-redux';\n\nconst CreateAccountForm: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [reenter, setReenter] = useState('');\n  const [zipcode, setZipcode] = useState('');\n  const dispatch = useDispatch();\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault();\n        createAccountHandler({\n          email,\n          password,\n          reenter,\n          zipcode\n        })\n          .then((message: string) => '')\n          .catch((message: string) =>\n            dispatch({\n              type: 'ADD_NOTIFICATION',\n              payload: {\n                type: 'secondary',\n                text: message\n              }\n            })\n          );\n      }}\n    >\n      <h2>Let's Get Cooking!</h2>\n      <label>Email</label>\n      <input\n        type=\"email\"\n        className=\"brand\"\n        value={email}\n        onChange={event => setEmail(event.target.value)}\n      />\n      <br />\n      <br />\n      <label>ZIP Code</label>\n      <input\n        type=\"number\"\n        className=\"brand\"\n        value={zipcode}\n        onChange={event => setZipcode(event.target.value)}\n      />\n      <br />\n      <br />\n      <label>Password</label>\n      <input\n        type=\"password\"\n        className=\"brand\"\n        value={password}\n        onChange={event => setPassword(event.target.value)}\n      />\n      <br />\n      <br />\n      <label>Reenter Password</label>\n      <input\n        type=\"password\"\n        className=\"brand margin-bottom\"\n        value={reenter}\n        onChange={event => setReenter(event.target.value)}\n      />\n      <br />\n      <br />\n      <input\n        className=\"brand primary-bg margin-right margin-bottom\"\n        type=\"submit\"\n        value=\"Sign Up\"\n      />\n    </form>\n  );\n};\n\nexport default CreateAccountForm;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateProfileHandler from '../../handlers/update-profile';\n\nconst UpdateProfileForm: React.FC = () => {\n  const user = useSelector(state => state['user']);\n  const profile = useSelector(state => state['profile']);\n  const [name, setName] = useState(profile?.personal?.name || '');\n  const [street, setStreet] = useState(profile?.personal?.street || '');\n  const [zipcode, setZipcode] = useState(profile?.personal?.zipcode || '');\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setName(profile?.personal?.name || '');\n    setStreet(profile?.personal?.street || '');\n    setZipcode(profile?.personal?.zipcode || '');\n  }, [profile]);\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault();\n        updateProfileHandler({\n          name,\n          street,\n          zipcode,\n          uid: user.uid\n        }).then((message: string) =>\n          dispatch({\n            type: 'ADD_NOTIFICATION',\n            payload: {\n              type: 'primary',\n              text: message\n            }\n          })\n        );\n      }}\n    >\n      <label>Name</label>\n      <input\n        type=\"text\"\n        className=\"brand margin-bottom\"\n        value={name}\n        onChange={event => setName(event.target.value)}\n      />\n      <label>Location</label>\n      <input\n        type=\"text\"\n        className=\"brand margin-bottom\"\n        value={street}\n        onChange={event => setStreet(event.target.value)}\n      />\n      <label>Zipcode</label>\n      <input\n        type=\"number\"\n        className=\"brand margin-bottom\"\n        value={zipcode}\n        onChange={event => setZipcode(event.target.value)}\n      />\n      <br />\n      <p>\n        <small>\n          <b>All information, except for email, is made public.</b>\n        </small>\n      </p>\n      <br />\n      <input\n        className=\"brand primary-bg margin-right margin-bottom\"\n        type=\"submit\"\n        value=\"Save Changes\"\n      />\n    </form>\n  );\n};\n\nexport default UpdateProfileForm;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport logoutHandler from '../../handlers/logout';\nimport UpdateProfileForm from './update-profile-form';\n\nconst SettingsComponent: React.FC = () => {\n  const user = useSelector(state => state['user']);\n  const dispatch = useDispatch();\n  return (\n    <div className=\"SettingsComponent\">\n      <h2>Account Settings</h2>\n      <p id=\"email\">{user.email}</p>\n      <p>\n        <small>\n          No information is required but we recommend adding a zipcode for\n          posting and searching nearby dinners.\n        </small>\n      </p>\n      <br />\n      <UpdateProfileForm />\n      <button\n        className=\"brand brand-bg\"\n        onClick={() =>\n          logoutHandler().then(() => {\n            dispatch({\n              type: 'LOGOUT',\n              payload: null\n            });\n          })\n        }\n      >\n        Sign Out\n      </button>\n    </div>\n  );\n};\n\nexport default SettingsComponent;\n","import * as firebase from 'firebase/app';\nimport 'firebase/auth';\n\nexport default (): Promise<String> =>\n  new Promise((res, rej) =>\n    firebase\n      .auth()\n      .signOut()\n      .then(() => res())\n      .catch(error => rej(error.message))\n  );\n","import React, { useState } from 'react';\nimport './style.scss';\nimport LoginForm from './login-form';\nimport CreateAccountForm from './create-account-form';\nimport SettingsComponent from './settings';\nimport { useSelector } from 'react-redux';\n\nconst AccountComponent: React.FC = () => {\n  const user = useSelector(state => state['user']);\n  const [create, setCreate] = useState(false);\n\n  return (\n    <div className=\"AccountComponent container\">\n      {!user ? (\n        !create ? (\n          <div>\n            <LoginForm />\n            <br />\n            <button\n              onClick={() => setCreate(true)}\n              className=\"brand primary-bg\"\n            >\n              Create Account\n            </button>\n          </div>\n        ) : (\n          <div>\n            <CreateAccountForm />\n            <button\n              onClick={() => setCreate(false)}\n              className=\"brand brand-bg\"\n            >\n              Go Back\n            </button>\n          </div>\n        )\n      ) : (\n        <SettingsComponent />\n      )}\n    </div>\n  );\n};\n\nexport default AccountComponent;\n","import React from 'react';\nimport './style.scss';\n\nconst BrandComponent: React.FC = () => {\n  return (\n    <div className=\"BrandComponent container\">\n      <h2>Dinr Brand Guidelines</h2>\n      <p>Please follow these guidelines before contributing any code.</p>\n      <h3>Containers</h3>\n      <p>\n        A container is the presentational component that we use for all the\n        routes. All containers should use the <b>\"container\"</b> class to ensure\n        all have the same margin and padding.\n      </p>\n      <h3>Headers</h3>\n      <p>\n        The <b>\"h2\"</b> tag is used as the main header and the <b>\"h3\"</b> is\n        used for subheaders.\n      </p>\n      <h3>Inputs & Buttons</h3>\n      <p>\n        Inputs and buttons use the <b>\"brand\"</b> class.\n      </p>\n      <input\n        type=\"text\"\n        className=\"brand margin-bottom\"\n        placeholder=\"Text input\"\n      />\n      <br />\n      <button className=\"brand\">Button</button>\n      <p>\n        You can change the background color by adding the classes{' '}\n        <b>\"brand-bg\"</b>, <b>\"primary-bg\"</b> and, <b>\"secondary-bg\"</b>.\n      </p>\n      <button className=\"brand margin-right brand-bg\">Brand</button>\n      <button className=\"brand margin-right primary-bg\">Primary</button>\n      <button className=\"brand secondary-bg\">Secondary</button>\n      <h3>Other</h3>\n      <p>\n        You can add space to the right/bottom by using the classes{' '}\n        <b>\"margin-right\"</b> and <b>\"margin-bottom\"</b>.\n      </p>\n    </div>\n  );\n};\n\nexport default BrandComponent;\n","import zipcodes from '../assets/zipcodes.json';\n\nexport default (zipcode: number): string | false => {\n    let city = zipcodes[zipcode];\n    return city || false;\n}","// San Jose, CA => sanjose_ca\n\nexport default (location: string): string => {\n  let [city, state] =\n    location.indexOf(',') !== -1 ? location.split(',') : location.split(':');\n  city = city.replace(/\\s/g, '').toLowerCase();\n  state = state.replace(' ', '').toLowerCase();\n  return `${city}_${state}`;\n};\n","import React from 'react';\nimport './style.scss';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport { useSelector, useDispatch } from 'react-redux';\nimport zipcodeToLocation from '../../helpers/zipcode-to-location';\nimport locationToUrl from '../../helpers/location-to-url';\nimport dinnerHashToObject from '../../helpers/dinner-hash-to-object';\nimport dinnerTemp from '../../templates/dinner.json';\nimport filterHosting from '../../helpers/filter-hosting';\n\nconst CreateComponent: React.FC = () => {\n  const profile = useSelector(state => state['profile']);\n  const user = useSelector(state => state['user']);\n  const dinner = useSelector(state => state['dinner']);\n  const dispatch = useDispatch();\n  const loaded = dinnerHashToObject(window.location.hash);\n  if (loaded && !dinner) {\n    window.location.hash = '/error';\n  }\n\n  const formHandler = (event: any) => {\n    const action: string | null = document.activeElement\n      ? document.activeElement.getAttribute('data-action')\n      : '';\n    event.preventDefault();\n    const form = event.target;\n    const title = form.querySelector('input#title').value;\n    const description = form.querySelector('textarea#description').value;\n    const month = form.querySelector('select#month').value;\n    const day = form.querySelector('select#day').value;\n    const year = form.querySelector('select#year').value;\n    const hour = form.querySelector('select#hour').value;\n    const minutes = form.querySelector('select#minutes').value;\n    const ampm = form.querySelector('select#ampm').value;\n    const price = Number(form.querySelector('input#price').value);\n    const plates = Number(form.querySelector('input#plates').value);\n    const datestamp = `${month}/${day}/${year} ${hour}:${minutes} ${ampm}`;\n    const uid = `${month}_${day}_${year}_${hour}_${minutes}_${ampm}_${user.uid}`;\n    const location = zipcodeToLocation(profile?.personal?.zipcode) || '';\n    const ref = `${locationToUrl(location)}_${month}_${year}/${uid}`;\n    if (new Date() > new Date(datestamp)) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        payload: {\n          type: 'secondary',\n          text: 'Invalid date'\n        }\n      });\n    } else if (isNaN(price)) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        payload: {\n          type: 'secondary',\n          text: 'Invalid price'\n        }\n      });\n    } else if (isNaN(plates)) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        payload: {\n          type: 'secondary',\n          text: 'Invalid plates'\n        }\n      });\n    } else {\n      Promise.all([\n        new Promise((res, rej) => {\n          firebase\n            .database()\n            .ref(`dinners/${ref}`)\n            .set({\n              ...dinnerTemp,\n              ...{\n                ...{\n                  title,\n                  price,\n                  plates,\n                  datestamp,\n                  description\n                },\n                profile: user.uid\n              }\n            })\n            .then(response => res())\n            .catch(error => rej(error));\n        }),\n        new Promise((res, rej) => {\n          firebase\n            .database()\n            .ref(`profiles/${user.uid}/hosting/${uid}`)\n            .set(ref)\n            .then(() => res())\n            .catch(error => rej(error));\n        })\n      ])\n        .then(() => {\n          dispatch({\n            type: 'ADD_NOTIFICATION',\n            payload: {\n              type: 'primary',\n              text:\n                action === 'save'\n                  ? 'Successfully saved your dinner!'\n                  : 'Successfully added your dinner!'\n            }\n          });\n          if (action === 'save') {\n            dispatch({\n              type: 'GET_HOSTING',\n              payload: filterHosting(profile.hosting)\n            });\n          }\n          window.location.hash = '';\n        })\n        .catch(error => {\n          dispatch({\n            type: 'ADD_NOTIFICATION',\n            payload: {\n              type: 'secondary',\n              text: error.message\n            }\n          });\n        });\n    }\n  };\n\n  return (\n    <div className=\"CreateComponent container\">\n      <h2>Host Dinner</h2>\n      <p>\n        Title, description, and price are the only editable fields after posting\n        a dinner. This ensures guests that the date and time will remain the\n        same.\n      </p>\n      <form onSubmit={formHandler}>\n        <label>Address</label>\n        <span>\n          {profile?.personal?.street} {profile?.personal?.zipcode}\n        </span>\n        <br />\n        <br />\n        <label>Title</label>\n        <input\n          className=\"brand margin-bottom\"\n          type=\"text\"\n          placeholder=\"Taco Night\"\n          id=\"title\"\n          defaultValue={loaded && dinner ? dinner.title : ''}\n          required\n        />\n        <label>Price (USD)</label>\n        <input\n          className=\"brand margin-bottom\"\n          type=\"number\"\n          placeholder=\"8\"\n          id=\"price\"\n          required\n          defaultValue={loaded && dinner ? dinner.price : ''}\n        />\n        <label>Plates</label>\n        <input\n          className=\"brand margin-bottom\"\n          type=\"number\"\n          placeholder=\"5\"\n          id=\"plates\"\n          required\n          disabled={!!loaded}\n          defaultValue={loaded && dinner ? dinner.plates : ''}\n        />\n        <label>Date</label>\n        <select\n          className=\"brand margin-right\"\n          defaultValue={new Date().getMonth() + 1}\n          id=\"month\"\n          disabled={!!loaded}\n        >\n          {new Array(12).fill(null).map((value, index) => {\n            return (\n              <option\n                key={`month-${index}`}\n                defaultValue={loaded ? loaded.month : index + 1}\n              >\n                {index + 1}\n              </option>\n            );\n          })}\n        </select>\n        <select\n          className=\"brand margin-right\"\n          defaultValue={loaded ? loaded.day : new Date().getDate()}\n          id=\"day\"\n          disabled={!!loaded}\n        >\n          {new Array(31).fill(null).map((value, index) => {\n            return (\n              <option value={index + 1} key={`month-${index}`}>\n                {index + 1}\n              </option>\n            );\n          })}\n        </select>\n        <select className=\"brand margin-bottom\" id=\"year\" disabled={!!loaded}>\n          <option>2020</option>\n        </select>\n        <label>Time</label>\n        <select\n          className=\"brand margin-right\"\n          defaultValue={loaded ? loaded.hour : '6'}\n          id=\"hour\"\n          disabled={!!loaded}\n        >\n          {new Array(12).fill(null).map((value, index) => {\n            return (\n              <option value={index + 1} key={`month-${index}`}>\n                {index + 1}\n              </option>\n            );\n          })}\n        </select>\n        <select\n          className=\"brand margin-right\"\n          defaultValue={loaded ? loaded.minute : '00'}\n          id=\"minutes\"\n          disabled={!!loaded}\n        >\n          <option value=\"00\">00</option>\n          <option value=\"15\">15</option>\n          <option value=\"30\">30</option>\n          <option value=\"45\">45</option>\n        </select>\n        <select\n          className=\"brand margin-bottom\"\n          defaultValue={loaded ? loaded.ampm : 'PM'}\n          id=\"ampm\"\n          disabled={!!loaded}\n        >\n          <option value=\"AM\">AM</option>\n          <option value=\"PM\">PM</option>\n        </select>\n        <label>Description</label>\n        <textarea\n          placeholder=\"Say something about your dinner...\"\n          className=\"brand\"\n          id=\"description\"\n          defaultValue={loaded && dinner ? dinner.description : ''}\n          required\n        ></textarea>\n        <br />\n        <br />\n        {loaded && dinner ? (\n          <input\n            className=\"brand primary-bg\"\n            data-action=\"save\"\n            type=\"submit\"\n            value=\"Save Dinner\"\n          />\n        ) : (\n          <input\n            className=\"brand primary-bg\"\n            data-action=\"post\"\n            type=\"submit\"\n            value=\"Post Dinner\"\n          />\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default CreateComponent;\n","/*\n    \"#/dinners/sanjose_ca_3_2020/3_9_2020_6_00_PM_K0bwbytfpDP8ZyzuDfhXTXxEPJR2\"\n    => {\n        city: \"sanjose\",\n        state: \"ca\",\n        month: 3,\n        day: 9,\n        year: 2020,\n        hour: \"6\",\n        minute: \"00\",\n        ampm: \"PM\",\n        datestamp: \"3/9/2020 6:00 PM\",\n        uid: \"K0bwbytfpDP8ZyzuDfhXTXxEPJR2\"\n    }\n*/\n\nexport default (hash: string): {\n    city: string;\n    state: string;\n    month: string;\n    day: string;\n    year: string;\n    hour: string;\n    minute: string;\n    ampm: string;\n    datestamp: string;\n    uid: string;\n  } | false  => {\n  const a1 = hash.split('/');\n  if (a1.length < 4) {\n    return false;\n  }\n  const a2 = a1[2].split('_');\n  const a3 = a1[3].split('_');\n  return {\n    city: a2[0],\n    state: a2[1],\n    month: a3[0],\n    day: a3[1],\n    year: a3[2],\n    hour: a3[3],\n    minute: a3[4],\n    ampm: a3[5],\n    datestamp: `${a3[0]}/${a3[1]}/${a3[2]} ${a3[3]}:${a3[4]} ${a3[5]}`,\n    uid: a3[6]\n  };\n};\n","import React from 'react';\nimport './style.scss';\nimport * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nconst DinnerComponent: React.FC = () => {\n  const ref = window.location.hash.replace('#/', '');\n  const dinner = useSelector(state => state['dinner']);\n  const host = useSelector(state => state['host']);\n  const user = useSelector(state => state['user']);\n  const profile = useSelector(state => state['profile']);\n  const dispatch = useDispatch();\n  const dinnerUid = dinner ? dinner.ref.split('/')[2] : '';\n  const isReserved =\n    dinner &&\n    profile &&\n    profile.reservations &&\n    Object.keys(profile.reservations).indexOf(dinnerUid) !== -1;\n  let platesLeft = 0;\n  if (dinner && dinner.guests && dinner.guests && dinner.plates) {\n    platesLeft = dinner.plates - Object.keys(dinner.guests).length;\n  } else if (dinner && dinner.plates) {\n    platesLeft = dinner.plates;\n  }\n\n  if (!dinner || dinner.ref !== ref) {\n    dispatch({\n      type: 'GET_DINNER',\n      payload: ref\n    });\n  }\n\n  if (\n    dinner &&\n    dinner.profile &&\n    (!host || (host && host.uid !== dinner.profile))\n  ) {\n    dispatch({\n      type: 'GET_HOST',\n      payload: dinner.profile\n    });\n  }\n\n  const remove = () => {\n    dispatch({\n      type: 'SET_LOADING',\n      payload: true\n    });\n    Promise.all([\n      new Promise((res, rej) => {\n        firebase\n          .database()\n          .ref(ref)\n          .remove()\n          .then(() => res())\n          .catch(() => rej());\n      }),\n      new Promise((res, rej) => {\n        firebase\n          .database()\n          .ref(`profiles/${user.uid}/hosting/${dinnerUid}`)\n          .remove()\n          .then(() => res())\n          .catch(() => rej());\n      })\n    ])\n      .then(() => {\n        dispatch({\n          type: 'SET_LOADING',\n          payload: false\n        });\n        dispatch({\n          type: 'ADD_NOTIFICATION',\n          payload: {\n            type: 'primary',\n            text: 'Successfully removed your dinner!'\n          }\n        });\n        window.location.hash = '';\n      })\n      .catch(() => {\n        dispatch({\n          type: 'SET_LOADING',\n          payload: false\n        });\n        dispatch({\n          type: 'ADD_NOTIFICATION',\n          payload: {\n            type: 'secondary',\n            text: 'Could not remove your dinner.'\n          }\n        });\n        window.location.hash = '';\n      });\n  };\n\n  function reserve() {\n    dispatch({\n      type: 'SET_LOADING',\n      payload: true\n    });\n    Promise.all([\n      new Promise((res, re) => {\n        firebase\n          .database()\n          .ref(`${ref}/guests/${user.uid}/`)\n          .set(profile.personal.name)\n          .then(() => res());\n      }),\n      new Promise((res, re) => {\n        firebase\n          .database()\n          .ref(`profiles/${user.uid}/reservations/${ref.split('/')[2]}`)\n          .set(ref)\n          .then(() => res());\n      })\n    ]).then(() => {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        payload: {\n          type: 'primary',\n          text: 'Successfully reserved a plate!'\n        }\n      });\n      window.location.hash = '';\n    });\n  }\n\n  function unreserve() {\n    dispatch({\n      type: 'SET_LOADING',\n      payload: true\n    });\n    Promise.all([\n      new Promise((res, re) => {\n        firebase\n          .database()\n          .ref(`${ref}/guests/${user.uid}/`)\n          .remove()\n          .then(() => res());\n      }),\n      new Promise((res, re) => {\n        firebase\n          .database()\n          .ref(`profiles/${user.uid}/reservations/${ref.split('/')[2]}`)\n          .remove()\n          .then(() => res());\n      })\n    ]).then(() => {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        payload: {\n          type: 'secondary',\n          text: `We've cancelled your reservation, please refrain from reserving a plate and then cancelling.`\n        }\n      });\n      window.location.hash = '';\n    });\n  }\n\n  if (\n    dinner &&\n    dinner.datestamp &&\n    dinner.description &&\n    dinner.plates &&\n    dinner.price &&\n    dinner.profile &&\n    dinner.title &&\n    dinner.ref === ref &&\n    host &&\n    host.personal\n  ) {\n    const { datestamp, description, price, title, guests } = dinner;\n    const { name, street } = host.personal;\n    const date = new Date(datestamp);\n    return (\n      <div className=\"DinnerComponent container\">\n        <h2>\n          ${price} {title}\n        </h2>\n        <p>{description}</p>\n        <ul>\n          <li>\n            <b>Host: </b>\n            {name ? name : 'Anonymous'}\n          </li>\n          <li>\n            <b>Address: </b>\n            {street ? street : 'No Address'}\n          </li>\n          <li>\n            <b>Date: </b>\n            {date.toLocaleDateString()}\n          </li>\n          <li>\n            <b>Time: </b>\n            {date.toLocaleTimeString().replace(':00 ', ' ')}\n          </li>\n          <li>\n            <b>Plates: </b>\n            {platesLeft ? `${platesLeft} left` : 'Sold Out'}\n          </li>\n        </ul>\n        {user && user.uid === host.uid && guests ? (\n          <div>\n            <p>\n              <b>Your Guests:</b>\n            </p>\n            <ul>\n              {Object.keys(guests).map((uid, index) => {\n                const guest = guests[uid];\n                return <li key={`guest-${index}`}>{guest || 'Anonymous'}</li>;\n              })}\n            </ul>\n          </div>\n        ) : user && user.uid === host.uid && !guests ? (\n          <div>\n            <b>There are currently no reservations.</b>\n          </div>\n        ) : null}\n        <br /><br />\n        <button\n          className=\"brand brand-bg margin-right\"\n          onClick={() => (window.location.hash = '')}\n        >\n          Browse All\n        </button>\n        {user && user.uid === host.uid ? (\n          <span>\n          <br /><br />\n            <Link to={`/create/${ref.replace('dinners/', '')}`}>\n              <button className=\"brand primary-bg margin-right\">Edit</button>\n            </Link>\n            <button\n              className=\"brand secondary-bg margin-right margin-top\"\n              onClick={remove}\n            >\n              Delete\n            </button>\n          </span>\n        ) : isReserved ? (\n          <button\n            className=\"brand secondary-bg margin-right\"\n            onClick={unreserve}\n          >\n            Cancel Reservation\n          </button>\n        ) : user ? (\n          <button className=\"brand primary-bg margin-right\" onClick={reserve}>\n            Reserve Plate\n          </button>\n        ) : (\n          <Link to=\"/account\">\n            <button className=\"brand primary-bg margin-right\">\n              Reserve Plate\n            </button>\n          </Link>\n        )}\n        <br />\n        <br />\n      </div>\n    );\n  } else if (host && dinner && dinner.ref === ref) {\n    window.location.hash = '/error';\n    return (\n      <div className=\"DinnerComponent container\">\n        <h2>System Error</h2>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"DinnerComponent container\">\n        <h2>Hold Tight</h2>\n        <p>We are looking for your listing...</p>\n        <br />\n      </div>\n    );\n  }\n};\n\nexport default DinnerComponent;\n","import React from 'react';\nimport './style.scss';\n\nconst ProfileComponent: React.FC = () => {\n  return (\n    <div className=\"ProfileComponent\">\n      <h1>Profile is working...</h1>\n    </div>\n  );\n}\n\nexport default ProfileComponent;\n","import React from 'react';\nimport './style.scss';\n\nconst ErrorComponent: React.FC = () => {\n  return (\n    <div className=\"ErrorComponent container\">\n      <h1>Error 404</h1>\n      <p>Dinner not found!</p>\n    </div>\n  );\n}\n\nexport default ErrorComponent;\n","import React from 'react';\nimport './App.scss';\n\n// app specific\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/analytics';\nimport 'firebase/auth';\nimport config from './assets/firebase-config.json';\nimport { useSelector, useDispatch } from 'react-redux';\n\n// common\nimport NavbarComponent from './common/Navbar';\nimport FooterComponent from './common/Footer';\nimport LoadingComponent from './common/Loading';\nimport NotificationsComponent from './common/Notifications';\n\n// containers\nimport BrowseComponent from './containers/Browse';\nimport AccountComponent from './containers/Account';\nimport BrandComponent from './containers/Brand';\nimport CreateComponent from './containers/Create';\nimport DinnerComponent from './containers/Dinner';\nimport ProfileComponent from './containers/Profile';\nimport ErrorComponent from './containers/Error';\n\nconst App: React.FC = () => {\n  const dispatch = useDispatch();\n  const loading = useSelector(state => state['loading']);\n\n  // init firebase\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    firebase.analytics();\n  }\n\n  // current user managment\n  firebase.auth().onAuthStateChanged(auth => {\n    if (auth) {\n      firebase\n        .database()\n        .ref(`profiles/${auth.uid}`)\n        .on('value', snapshot => {\n          dispatch({\n            type: 'SET_PROFILE',\n            payload: snapshot.val()\n          });\n          if (\n            snapshot.val() &&\n            snapshot.val().personal &&\n            snapshot.val().personal.zipcode\n          ) {\n            dispatch({\n              type: 'SET_ZIPCODE',\n              payload: snapshot.val().personal.zipcode\n            });\n            dispatch({\n              type: 'GET_RESULTS',\n              payload: snapshot.val().personal.zipcode\n            });\n          }\n          if (window.location.hash.indexOf('#/dinners/') === -1) {\n            window.location.hash = '';\n          }\n        });\n    } else {\n      dispatch({\n        type: 'SET_PROFILE',\n        payload: null\n      });\n    }\n    dispatch({\n      type: 'SET_LOADING',\n      payload: false\n    });\n    dispatch({\n      type: 'SET_USER',\n      payload: auth\n    });\n  });\n\n  return (\n    <div className=\"App\">\n      {loading ? (\n        <LoadingComponent />\n      ) : (\n        <Router>\n          <NavbarComponent />\n          <NotificationsComponent />\n          <Switch>\n            <Route exact path=\"/\">\n              <BrowseComponent />\n            </Route>\n            <Route exact path=\"/account\">\n              <AccountComponent />\n            </Route>\n            <Route exact path=\"/brand\">\n              <BrandComponent />\n            </Route>\n            <Route path=\"/create\">\n              <CreateComponent />\n            </Route>\n            <Route path=\"/dinners\">\n              <DinnerComponent />\n            </Route>\n            <Route exact path=\"/profile\">\n              <ProfileComponent />\n            </Route>\n            <Route component={ErrorComponent} />\n          </Switch>\n          <FooterComponent />\n        </Router>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport loading from './loading';\nimport user from './user';\nimport profile from './profile';\nimport notifications from './notifications';\nimport zipcode from './zipcode';\nimport results from './results';\nimport dinner from './dinner';\nimport host from './host';\nimport reservations from './reservations';\nimport hosting from './hosting';\n\nexport default combineReducers({\n  loading,\n  user,\n  profile,\n  notifications,\n  zipcode,\n  results,\n  dinner,\n  host,\n  reservations,\n  hosting\n});\n","export default (state: boolean = true, action: {\n  type: string;\n  payload: boolean;\n}) => (action.type === 'SET_LOADING') ? action.payload : state;\n","export default (\n  state: object | null = null,\n  action: {\n    type: string;\n    payload: object | null;\n  }\n) => (action.type === 'SET_USER' ? action.payload : state);\n","export default (\n  state: object | null = null,\n  action: {\n    type: string;\n    payload: object | null;\n  }\n) =>\n  action.type === 'SET_PROFILE' || action.type === 'LOGOUT'\n    ? action.payload\n    : state;\n","export default (\n  state: {\n    type: string;\n    text: string;\n  }[] = [],\n  action: {\n    type: string;\n    payload: any;\n  }\n) => {\n  if (\n    action.type === 'ADD_NOTIFICATION' &&\n    action.payload.type &&\n    action.payload.text\n  ) {\n    return state\n      .map((value: any) => value.text)\n      .indexOf(action.payload.text) === -1\n      ? [\n          ...state,\n          {\n            ...action.payload,\n            time: new Date().getTime()\n          }\n        ]\n      : state;\n  } else if (action.type === 'REMOVE_NOTIFICATION') {\n    return state.length > 1 ? state.splice(action.payload, 1) : [];\n  } else {\n    return state;\n  }\n};\n","export default (\n  state: number | null = null,\n  action: {\n    type: string;\n    payload: any;\n  }\n) => {\n  if (action.type === 'SET_ZIPCODE') {\n    return action.payload;\n  } else if (\n    action.type === 'SET_PROFILE' &&\n    action.payload &&\n    action.payload.personal &&\n    action.payload.personal.zipcode\n  ) {\n    return action.payload.personal.zipcode;\n  } else {\n    return state;\n  }\n};\n","export default (\n  state: object[] = [],\n  action: {\n    type: string;\n    payload: object[] | null;\n  }\n) => (action.type === 'SET_RESULTS' ? action.payload : state);\n","export default (state: object | null = null, action: {\n  type: string;\n  payload: object | null;\n}) => (action.type === 'SET_DINNER') ? action.payload : state;\n","export default (state: object | null = null, action: {\n  type: string;\n  payload: object | null;\n}) => (action.type === 'SET_HOST') ? action.payload : state;","export default (\n  state: object[] | null = [],\n  action: {\n    type: string;\n    payload: object[] | null;\n  }\n) =>\n  action.type === 'SET_RESERVATIONS' || action.type === 'LOGOUT'\n    ? action.payload\n    : state;\n","export default (\n  state: object[] = [],\n  action: {\n    type: string;\n    payload: object[];\n  }\n) =>\n  action.type === 'SET_HOSTING' || action.type === 'LOGOUT'\n    ? action.payload\n    : state;\n","import * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport { takeEvery, put, call } from 'redux-saga/effects';\n\nfunction* watchDinnerAsync(action: any) {\n  const dinner: object = action.payload\n    ? yield call(() => {\n        return new Promise((resolve, reject) => {\n          firebase\n            .database()\n            .ref(action.payload)\n            .once('value', snapshot => {\n              resolve(\n                snapshot.val()\n                  ? {\n                      ...snapshot.val(),\n                      ref: action.payload\n                    }\n                  : {\n                      ref: action.payload\n                    }\n              );\n            });\n        });\n      })\n    : null;\n  yield put({\n    type: 'SET_DINNER',\n    payload: dinner\n  });\n}\n\nexport function* watchDinner() {\n  yield takeEvery('GET_DINNER', watchDinnerAsync);\n}\n","export default (results: object[]): object[] => {\n  results = results\n    .filter(result => result != null)\n    .map(object => Object.keys(object).map(key => object[key]))\n    .reduce((array, result) => [...array, ...result], []);\n  return results;\n};\n","export default (results: any[]): object[] => {\n  const today = new Date();\n  return results.filter(result => {\n    return (\n      !result ||\n      !result.datestamp ||\n      !result.plates ||\n      today <= new Date(result?.datestamp) ||\n      (result.guests && result.guests.length - result.plates <= 0)\n    );\n  });\n};\n","import * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport { takeEvery, put, call } from 'redux-saga/effects';\nimport locationToUrl from '../helpers/location-to-url';\nimport zipcodeToLocation from '../helpers/zipcode-to-location';\nimport flattenResultsArray from '../helpers/flatten-results-array';\nimport filterResults from '../filters/filter-results';\n\nfunction* watchResultsAsync(action: any) {\n  if (action.payload > 9999) {\n    const location = zipcodeToLocation(action.payload);\n    const today = new Date().toLocaleDateString().split('/');\n    const month = today[0];\n    const year = today[2];\n    const datestamps = [`${month}_${year}`];\n    let results: Object[] = filterResults(\n      flattenResultsArray(\n        location\n          ? yield call(() => {\n              return Promise.all(\n                datestamps.map(\n                  stamp =>\n                    new Promise((resolve, reject) => {\n                      const ref = `dinners/${locationToUrl(location)}_${stamp}`;\n                      firebase\n                        .database()\n                        .ref(ref)\n                        .once('value', function(snapshot) {\n                          const object = {};\n                          const response = snapshot.val();\n                          if (response) {\n                            Object.keys(response).forEach(key => {\n                              object[key] = {\n                                ...response[key],\n                                ref: `${ref}/${key}`\n                              };\n                            });\n                          }\n                          resolve(object);\n                        });\n                    })\n                )\n              );\n            })\n          : []\n      )\n    );\n    yield put({\n      type: 'SET_RESULTS',\n      payload: results\n    });\n  }\n}\n\nexport function* watchResults() {\n  yield takeEvery('SET_ZIPCODE', watchResultsAsync);\n}\n","import * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport { takeEvery, put, call } from 'redux-saga/effects';\n\nfunction* watchHostAsync(action: any) {\n  const host: object = action.payload\n    ? yield call(() => {\n        return new Promise((resolve, reject) => {\n          firebase\n            .database()\n            .ref(`profiles/${action.payload}`)\n            .once('value', snapshot => {\n              resolve(\n                snapshot.val()\n                  ? {\n                      ...snapshot.val(),\n                      uid: action.payload\n                    }\n                  : {\n                      uid: action.payload\n                    }\n              );\n            });\n        });\n      })\n    : null;\n  yield put({\n    type: 'SET_HOST',\n    payload: host\n  });\n}\n\nexport function* watchHost() {\n  yield takeEvery('GET_HOST', watchHostAsync);\n}\n","import * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport { takeEvery, put, call } from 'redux-saga/effects';\n\nfunction* watchReservationsAsync(action: any) {\n  const reservations: object[] = yield call(() => {\n    return Promise.all(\n      action.payload.map(\n        (ref: string) =>\n          new Promise((resolve, reject) => {\n            firebase\n              .database()\n              .ref(ref)\n              .once('value', snapshot =>\n                resolve({\n                  ...snapshot.val(),\n                  ref\n                })\n              );\n          })\n      )\n    );\n  });\n  yield put({\n    type: 'SET_RESERVATIONS',\n    payload: reservations\n  });\n}\n\nexport function* watchReservations() {\n  yield takeEvery('GET_RESERVATIONS', watchReservationsAsync);\n}\n","import * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport { takeEvery, put, call } from 'redux-saga/effects';\n\nfunction* watchHostingAsync(action: any) {\n  const reservations: object[] = yield call(() => {\n    return Promise.all(\n      action.payload.map(\n        (ref: string) =>\n          new Promise((resolve, reject) => {\n            firebase\n              .database()\n              .ref(`dinners/${ref}`)\n              .once('value', snapshot =>\n                resolve({\n                  ...snapshot.val(),\n                  ref: `dinners/${ref}`\n                })\n              );\n          })\n      )\n    );\n  });\n  yield put({\n    type: 'SET_HOSTING',\n    payload: reservations\n  });\n}\n\nexport function* watchHosting() {\n  yield takeEvery('GET_HOSTING', watchHostingAsync);\n}\n","import { fork, all } from 'redux-saga/effects';\nimport { watchDinner } from './dinner';\nimport { watchResults }  from './results';\nimport { watchHost }  from './host';\nimport { watchReservations }  from './reservations';\nimport { watchHosting }  from './hosting';\n\nexport function* rootSaga() {\n    yield all([\n        fork(watchDinner),\n        fork(watchResults),\n        fork(watchHost),\n        fork(watchReservations),\n        fork(watchHosting)\n    ]);\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport './normalize.scss';\nimport 'animate.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducers from './reducers';\nimport createSagaMiddleware from 'redux-saga';\nimport { rootSaga } from './sagas/root';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION__: any;\n  }\n}\n\nwindow.__REDUX_DEVTOOLS_EXTENSION__ =\n  window.__REDUX_DEVTOOLS_EXTENSION__ || compose;\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n  reducers,\n  compose(\n    applyMiddleware(sagaMiddleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}